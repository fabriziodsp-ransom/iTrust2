# UC23 Exercise Diary

## 23.1 Preconditions

The iTrust2 user has authenticated themselves in iTrust2 ([UC2](https://github.ncsu.edu/engr-csc326-staff/iTrust2-v4/wiki/uc2)) as a patient or HCP.

## 23.2 Main Flow

Any patient may select to either view their exercise diary [S1][E1], add a new exercise diary entry [S2], or edit an existing entry [S3].  

Any HCP may view exercise diary entries (but may not create them) for a patient in the iTrust2 system.  The HCP may search for patients, and upon selecting one, will see a exercise diary displayed exactly as the patient would [S1][E1].  All events are logged.

## 23.3 Subflows

 * [S1] Every exercise entry (all information entered in [S2]) is displayed by date, with the most recent entries being displayed first. Each day has the total time exercising and total calories burned displayed.

 * [S2] A patient adds an exercise diary entry that includes the date, exercise type, exercise name, duration, and calories burned in the format described in Section 23.6. The patient submits the form [E2] and is sent to view their exercise diary [S1].

 * [S3] A patient chooses to edit an exercise diary entry that they have previously created.  All existing fields may be edited, and data is validated as per the format in Section 23.6.  The patient submits the form [E2] and is sent to view their exercise diary [S1].

## 23.4 Alternative Flows
 * [E1] If there are no exercise diary entries for the patient, a message is displayed that there are none.
 * [E2] Invalid inputs are flagged and an error message appropriate to the input is printed.

## 23.5 Logging

Transaction Code | Verbose Description | Logged In MID | Secondary MID | Transaction Type | Patient Viewable
-----------------|---------------------|---------------|---------------|------------------|------------------
2301             | Create an Exercise Diary Entry | patient | - | Create | Yes
2302             | Patient views Exercise Diary | patient | - | View | Yes
2303             | HCP views Exercise Diary | HCP | patient | View | Yes
2304             | Patient edits their Exercise Diary | patient | - | Edit| Yes


## 23.6 Data Format
| Field | Format |
|-------|--------|
|Date  |	mm/dd/yyyy, restricted to current or past dates. Required|
|Type of Exercise  |One of "Endurance", "Strength", "Balance", or "Flexibility". Required|
|Name of Exercise| Not null or empty. Required|
|Duration | Positive number of minutes. Required|
|Calories Burned | Zero or positive number. Required|